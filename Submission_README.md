# Combine a project folder into one PDF (combined.md → HTML → Print)

This README explains a simple workflow to bundle the contents of a project folder into a single PDF for submission or sharing.
First of all, you can manually save each file into a PDF and combine all of them into one. But you can also use this automatic method here.  

Before running this procedure, you should have saved two snapshots of output windows from Producer and Consumer to this project folder.

## Overview

You will:

1. Create a `combined.md` file in the project folder that contains all source files (and embeds images if present).
2. Install LaTeX (optional, only needed if you want Pandoc to output PDF directly).
3. Create a `combined.html` file using Pandoc.
4. Print the HTML and save as a PDF.

This method works well for projects with code files like `.py`, `.yml`, `.yaml`, plus documentation files and images like `.png` and `.jpg`.

---

## Prerequisites

- Python 3
- Pandoc

### Install Pandoc

#### macOS

```bash
brew install pandoc
```

#### Windows

Recommended: install Pandoc via winget:

```powershell
winget install --id JohnMacFarlane.Pandoc -e
```

Verify on any OS:

```bash
pandoc -v
```

---

## Step 1. Create `combined.md` in the project folder

Open Mac Terminal or Windows Powershell. Use "cd.." to change to your project directory.  
Copy and paste the following script directly in Terminal or Powershell. It will generate `combined.md`.

This script:

- Includes common text formats (`.py`, `.yml`, `.yaml`, `.md`, `.txt`, `.json`, `.toml`, `.ini`, `.cfg`)
- Embeds images (`.png`, `.jpg`, `.jpeg`, `.gif`) using Markdown image syntax, so they appear in the HTML and PDF
- Skips binary or unreadable text files safely

### macOS and Linux (Terminal)

```bash
python3 - <<'PY'
from pathlib import Path

TEXT_EXTS = {".py", ".yml", ".yaml", ".md", ".txt", ".json", ".toml", ".ini", ".cfg"}
IMAGE_EXTS = {".png", ".jpg", ".jpeg", ".gif"}

def lang_for(p: Path) -> str:
    return {
        ".py": "python",
        ".yml": "yaml",
        ".yaml": "yaml",
        ".md": "markdown",
        ".json": "json",
        ".toml": "toml",
    }.get(p.suffix.lower(), "")

# Collect files, skipping common noisy folders
SKIP_DIRS = {".git", ".venv", "venv", "__pycache__", "node_modules", ".DS_Store"}

paths = []
for p in Path(".").rglob("*"):
    if any(part in SKIP_DIRS for part in p.parts):
        continue
    if p.is_file():
        ext = p.suffix.lower()
        if ext in TEXT_EXTS or ext in IMAGE_EXTS:
            paths.append(p)

paths = sorted(paths, key=lambda x: x.as_posix())

out = []
out.append("# Combined project files\n\n")
out.append("Generated by a script that concatenates text files and embeds images.\n\n")

for p in paths:
    rel = p.as_posix()
    ext = p.suffix.lower()

    out.append(f"\n## {rel}\n\n")

    if ext in IMAGE_EXTS:
        # Embed image using Markdown syntax
        out.append(f"![{rel}]({rel})\n\n")
        continue

    # Text file
    try:
        text = p.read_text(encoding="utf-8")
    except UnicodeDecodeError:
        out.append("_Skipped (non-UTF8 or binary file)._\n\n")
        continue

    lang = lang_for(p)
    out.append(f"```{lang}\n{text}\n```\n")

Path("combined.md").write_text("".join(out), encoding="utf-8")
print(f"Wrote combined.md with {len(paths)} included items.")
PY
```

### Windows (PowerShell)

Run this from the project folder:

```powershell
python - <<'PY'
from pathlib import Path

TEXT_EXTS = {".py", ".yml", ".yaml", ".md", ".txt", ".json", ".toml", ".ini", ".cfg"}
IMAGE_EXTS = {".png", ".jpg", ".jpeg", ".gif"}

def lang_for(p: Path) -> str:
    return {
        ".py": "python",
        ".yml": "yaml",
        ".yaml": "yaml",
        ".md": "markdown",
        ".json": "json",
        ".toml": "toml",
    }.get(p.suffix.lower(), "")

SKIP_DIRS = {".git", ".venv", "venv", "__pycache__", "node_modules"}

paths = []
for p in Path(".").rglob("*"):
    if any(part in SKIP_DIRS for part in p.parts):
        continue
    if p.is_file():
        ext = p.suffix.lower()
        if ext in TEXT_EXTS or ext in IMAGE_EXTS:
            paths.append(p)

paths = sorted(paths, key=lambda x: x.as_posix())

out = []
out.append("# Combined project files\n\n")
out.append("Generated by a script that concatenates text files and embeds images.\n\n")

for p in paths:
    rel = p.as_posix()
    ext = p.suffix.lower()

    out.append(f"\n## {rel}\n\n")

    if ext in IMAGE_EXTS:
        out.append(f"![{rel}]({rel})\n\n")
        continue

    try:
        text = p.read_text(encoding="utf-8")
    except UnicodeDecodeError:
        out.append("_Skipped (non-UTF8 or binary file)._\n\n")
        continue

    lang = lang_for(p)
    out.append(f"```{lang}\n{text}\n```\n")

Path("combined.md").write_text("".join(out), encoding="utf-8")
print(f"Wrote combined.md with {len(paths)} included items.")
PY
```

You should now see `combined.md` in the project folder.

---

## Step 2. Create `combined.html` with Pandoc

Run this in the project folder:

```bash
pandoc combined.md -s --metadata title="Project Files" --embed-resources -o combined.html
```

---

## Step 3. Print and save as a PDF

Open the HTML file:

- macOS:

  ```bash
  open combined.html
  ```

- Windows: double click `combined.html`

Then in the browser:

1. File → Print
2. Destination: Save as PDF
3. Save as `combined.pdf`

---

## Note: why we do not suggest you directly output PDF from the folder

First, you will need to install LaTex. Second, even if you have LaTex, it still may fail due to Unicode (for example emojis like ✅).
Generating HTML first and Print→ Save as PDF is more reliable.


