# Combine a project folder into one PDF (combined.md → HTML → Print)

This README explains a simple workflow to bundle the contents of a project folder into a single PDF for submission or sharing.

## Overview

You will:

1. Create a `combined.md` file in the project folder that contains all source files (and embeds images if present).
2. Install LaTeX (optional, only needed if you want Pandoc to output PDF directly).
3. Create a `combined.html` file using Pandoc.
4. Print the HTML and save as a PDF.

This method works well for projects with code files like `.py`, `.yml`, `.yaml`, plus documentation files and images like `.png` and `.jpg`.

---

## Prerequisites

- Python 3
- Pandoc

### Install Pandoc

#### macOS

```bash
brew install pandoc
```

#### Windows

Recommended: install Pandoc via winget:

```powershell
winget install --id JohnMacFarlane.Pandoc -e
```

Verify on any OS:

```bash
pandoc -v
```

---

## Step 1. Create `combined.md` in the project folder

Run the following script in the project folder (the folder where your files are). It will generate `combined.md`.

This script:

- Includes common text formats (`.py`, `.yml`, `.yaml`, `.md`, `.txt`, `.json`, `.toml`, `.ini`, `.cfg`)
- Embeds images (`.png`, `.jpg`, `.jpeg`, `.gif`) using Markdown image syntax, so they appear in the HTML and PDF
- Skips binary or unreadable text files safely

### macOS and Linux (Terminal)

```bash
python3 - <<'PY'
from pathlib import Path

TEXT_EXTS = {".py", ".yml", ".yaml", ".md", ".txt", ".json", ".toml", ".ini", ".cfg"}
IMAGE_EXTS = {".png", ".jpg", ".jpeg", ".gif"}

def lang_for(p: Path) -> str:
    return {
        ".py": "python",
        ".yml": "yaml",
        ".yaml": "yaml",
        ".md": "markdown",
        ".json": "json",
        ".toml": "toml",
    }.get(p.suffix.lower(), "")

# Collect files, skipping common noisy folders
SKIP_DIRS = {".git", ".venv", "venv", "__pycache__", "node_modules", ".DS_Store"}

paths = []
for p in Path(".").rglob("*"):
    if any(part in SKIP_DIRS for part in p.parts):
        continue
    if p.is_file():
        ext = p.suffix.lower()
        if ext in TEXT_EXTS or ext in IMAGE_EXTS:
            paths.append(p)

paths = sorted(paths, key=lambda x: x.as_posix())

out = []
out.append("# Combined project files\n\n")
out.append("Generated by a script that concatenates text files and embeds images.\n\n")

for p in paths:
    rel = p.as_posix()
    ext = p.suffix.lower()

    out.append(f"\n## {rel}\n\n")

    if ext in IMAGE_EXTS:
        # Embed image using Markdown syntax
        out.append(f"![{rel}]({rel})\n\n")
        continue

    # Text file
    try:
        text = p.read_text(encoding="utf-8")
    except UnicodeDecodeError:
        out.append("_Skipped (non-UTF8 or binary file)._\n\n")
        continue

    lang = lang_for(p)
    out.append(f"```{lang}\n{text}\n```\n")

Path("combined.md").write_text("".join(out), encoding="utf-8")
print(f"Wrote combined.md with {len(paths)} included items.")
PY
```

### Windows (PowerShell)

Run this from the project folder:

```powershell
python - <<'PY'
from pathlib import Path

TEXT_EXTS = {".py", ".yml", ".yaml", ".md", ".txt", ".json", ".toml", ".ini", ".cfg"}
IMAGE_EXTS = {".png", ".jpg", ".jpeg", ".gif"}

def lang_for(p: Path) -> str:
    return {
        ".py": "python",
        ".yml": "yaml",
        ".yaml": "yaml",
        ".md": "markdown",
        ".json": "json",
        ".toml": "toml",
    }.get(p.suffix.lower(), "")

SKIP_DIRS = {".git", ".venv", "venv", "__pycache__", "node_modules"}

paths = []
for p in Path(".").rglob("*"):
    if any(part in SKIP_DIRS for part in p.parts):
        continue
    if p.is_file():
        ext = p.suffix.lower()
        if ext in TEXT_EXTS or ext in IMAGE_EXTS:
            paths.append(p)

paths = sorted(paths, key=lambda x: x.as_posix())

out = []
out.append("# Combined project files\n\n")
out.append("Generated by a script that concatenates text files and embeds images.\n\n")

for p in paths:
    rel = p.as_posix()
    ext = p.suffix.lower()

    out.append(f"\n## {rel}\n\n")

    if ext in IMAGE_EXTS:
        out.append(f"![{rel}]({rel})\n\n")
        continue

    try:
        text = p.read_text(encoding="utf-8")
    except UnicodeDecodeError:
        out.append("_Skipped (non-UTF8 or binary file)._\n\n")
        continue

    lang = lang_for(p)
    out.append(f"```{lang}\n{text}\n```\n")

Path("combined.md").write_text("".join(out), encoding="utf-8")
print(f"Wrote combined.md with {len(paths)} included items.")
PY
```

You should now see `combined.md` in the project folder.

---

## Step 2. Install LaTeX (optional)

You only need LaTeX if you want Pandoc to generate PDF directly (for example `pandoc combined.md -o combined.pdf`).
If you plan to do HTML → Print to PDF, you can skip this step.

### Windows

- MiKTeX, or TeX Live

### macOS

- MacTeX (large, full distribution), or
- BasicTeX (smaller)

Note: Even with LaTeX installed, direct PDF can fail if your content includes emojis or uncommon Unicode characters. HTML printing avoids those issues.

---

## Step 3. Create `combined.html` with Pandoc

Run this in the project folder:

```bash
pandoc combined.md -s --metadata title="Project Files" -o combined.html
```

### Recommended: embed images into the HTML

If you want the HTML to be self-contained (images included inside the HTML file), use:

```bash
pandoc combined.md -s --metadata title="Project Files" --embed-resources -o combined.html
```

---

## Step 4. Print and save as a PDF

Open the HTML file:

- macOS:

  ```bash
  open combined.html
  ```

- Windows: double click `combined.html`

Then in the browser:

1. File → Print
2. Destination: Save as PDF
3. Save as `combined.pdf`

---

## Optional: direct PDF (requires LaTeX)

If LaTeX is installed and you still want to try direct PDF:

```bash
pandoc combined.md -o combined.pdf
```

If it fails due to Unicode (for example emojis like ✅), use the HTML printing workflow instead.

---

## Tips

- If the combined output is too long, limit which extensions are included in the script.
- If you want a specific order, edit the script to sort files differently or use a custom list.
- Avoid including secrets (API keys, tokens) in any exported document.
